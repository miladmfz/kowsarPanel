<div class="account-pages mt-5 mb-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xl-4 col-lg-6 col-md-8">
        <div class="card shadow rounded-3 border-0">
          <div class="card-body p-4">

            <!-- لوگو -->
            <div class="text-center mb-4">
              <img src="./assets/images/img_logo_kits_png.png" alt="لوگو" height="75" class="mb-2" />
              <p class="text-muted">لطفا نام کاربری و رمز عبور خود را وارد کنید</p>
            </div>

            <form [formGroup]="LoginForm" (ngSubmit)="submit('')" id="submitForm" autocomplete="on">

              <!-- نام کاربری -->
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="UName" placeholder="نام کاربری" formControlName="UName"
                  maxlength="100" autocomplete="username" [ngClass]="{
                    'is-invalid': LoginForm.controls['UName'].invalid && LoginForm.controls['UName'].touched,
                    'is-valid': LoginForm.controls['UName'].valid && LoginForm.controls['UName'].touched
                  }" />
                  <label for="UName">نام کاربری</label>
                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'اجباری است',
                  control: LoginForm.controls['UName']
                }"></ng-container>
                </div>

                <!-- رمز عبور -->
                <div class="form-floating mb-3 position-relative">
                  <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="UPass"
                    placeholder="رمز عبور" formControlName="UPass" maxlength="100" autocomplete="current-password"
                  [ngClass]="{
                    'is-invalid': LoginForm.controls['UPass'].invalid && LoginForm.controls['UPass'].touched,
                    'is-valid': LoginForm.controls['UPass'].valid && LoginForm.controls['UPass'].touched
                  }" />
                    <label for="UPass">رمز عبور</label>

                    <!-- آیکون چشم -->
                    <span class="position-absolute top-50 end-0 translate-middle-y me-3 text-muted" style="cursor: pointer;"
                      (click)="toggleShowPassword()">
                      <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
                    </span>

                <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                  validation: 'required',
                  message: 'اجباری است',
                  control: LoginForm.controls['UPass']
                }"></ng-container>
                  </div>

                  <!-- دکمه ورود -->
                  <div class="d-grid">
                    <button type="submit" class="btn btn-lg text-white" style="background-color: #3B82F6;">
                      ورود
                    </button>
                  </div>

                </form>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- قالب خطا -->
    <ng-template #formError let-control="control" let-message="message" let-validation="validation">
      @if (control.hasError(validation) && (control.dirty || control.touched)) {
        <div class="invalid-feedback d-block mt-1">
          <span role="alert">{{ message }}</span>
        </div>
      }
    </ng-template>