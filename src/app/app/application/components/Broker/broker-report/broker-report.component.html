<div class="row">
  <div class="col-12">
    <div class="page-title-box">
      <h4 class="page-title">مدیریت </h4>
    </div>
  </div>
</div>


<div class="card">
  <div class="card-header">
    <ul class="nav nav-pills nav-fill">
      <li class="nav-item">
        <a class="nav-link " data-bs-toggle="pill" [routerLink]="['/application/broker-detail']">پنل بازاریاب</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " data-bs-toggle="pill" [routerLink]="['/application/broker-setting']">تنظیمات
          بازاریاب</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="pill" [routerLink]="['/application/broker-list']">لیست بازاریاب</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="pill" [routerLink]="['/application/broker-report']">گزارش بازاریاب
        </a>
      </li>

    </ul>
  </div>
  <div class="card-body">
    <div class="tab-content">

      <div class="tab-pane fade show active" role="tabpanel">



        <div class="col-lg-12">
          <div class="card">
            <div class="card-body border border-secondary">
              <div class="d-flex align-items-start">

                <div class="me-3">
                  <label for="fileInput" class="position-relative">

                    <ng-container *ngIf="Imageitem.length>100">
                      <img [src]="Imageitem" alt="No Photo" class="rounded-circle" (click)="fileInput.click()">
                    </ng-container>
                    <ng-container *ngIf="Imageitem.length<100">
                      <img src="./assets/images/nophoto.png" alt="No Photo" class="rounded-circle"
                        (click)="fileInput.click()">
                    </ng-container>



                    <span
                      class="upload-text position-absolute top-50 start-50 translate-middle text-white fw-bold opacity-50 transition-opacity"
                      [ngClass]="{'opacity-100': showUploadText}">آپلود</span>
                  </label>
                  <input type="file" (change)="onFileSelected($event)" id="fileInput" #fileInput style="display: none;">
                </div>



                <div class="flex-1">
                  <h5 class="my-1"><a class="text-dark">{{ items[0].BrokerNameWithoutType }}</a></h5>
                  <p class="text-muted mb-0"><i class="mdi mdi-account me-1"></i>{{ items[0].RelationType }}
                  </p>
                </div>

              </div>
              <hr>
              <div class="text-muted">
                <div class="row">

                  <div class="col-sm-2 col-6">
                    <div>
                      <p class="mb-0">کد بازاریاب</p>
                      <h5 class="mb-sm-0">{{items[0].CustomerCount}}</h5>
                    </div>
                  </div>
                  <div class="col-sm-2 col-6">
                    <div>
                      <p class="mb-0">اجزای پایه</p>
                      <h5 class="mb-sm-0">{{items[0].CentralRef}}</h5>
                    </div>
                  </div>

                  <div class="col-sm-2 col-6">
                    <div>
                      <p class="mb-0">تعداد فاکتور</p>
                      <h5 class="mb-sm-0">{{items[0].FactorCount}}</h5>
                    </div>
                  </div>

                  <div class="col-sm-2 col-6">
                    <div>
                      <p class="mb-0">انبار</p>
                      <h5 class="mb-sm-0">{{ items[0].Stack }}</h5>
                    </div>
                  </div>
                  <div class="col-sm-2 col-6">
                    <div>
                      <p class="mb-0">تعداد مشتری</p>
                      <h5 class="mb-sm-0">{{items[0].BrokerCode}}</h5>
                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>
        </div>







        <!-- 
        <form [formGroup]="formRadio1">
          <c-button-group aria-label="Basic radio toggle button group" role="group">
            <input class="btn-check" formControlName="radio1" type="radio" value="Radio3" />
            <label (click)="setRadioValue('Radio3')" cButton cFormCheckLabel variant="outline">لیست چارت</label>
            <input class="btn-check" formControlName="radio1" type="radio" value="Radio1" />
            <label (click)="setRadioValue('Radio1')" cButton cFormCheckLabel variant="outline">مشتری - قیمت </label>

            <input class="btn-check" formControlName="radio1" type="radio" value="Radio2" />
            <label (click)="setRadioValue('Radio2')" cButton cFormCheckLabel variant="outline">مشتری - تعداد </label>

            <input class="btn-check" formControlName="radio1" type="radio" value="Radio4" />
            <label (click)="setRadioValue('Radio4')" cButton cFormCheckLabel variant="outline">چارت مشتری</label>



          </c-button-group>
        </form> -->

        <div class="card-body">

          <ul class="nav nav-pills navtab-bg nav-justified">

            <li class="nav-item">
              <a href="#map" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                <span class="d-inline-block d-sm-none"><i class="mdi mdi-home-variant"></i></span>
                <span class="d-none d-sm-inline-block">map</span>
              </a>
            </li>


            <!-- 
            <li class="nav-item">
              <a href="#Radio1" data-bs-toggle="tab" aria-expanded="false" class="nav-link active">
                <span class="d-inline-block d-sm-none"><i class="mdi mdi-home-variant"></i></span>
                <span class="d-none d-sm-inline-block">چارت مشتری</span>
              </a>
            </li>
            <li class="nav-item">

              <a href="#Radio3" data-bs-toggle="tab" aria-expanded="false" class="nav-link ">
                <span class="d-inline-block d-sm-none"><i class="mdi mdi-home-variant"></i></span>
                <span class="d-none d-sm-inline-block">فاکتور</span>
              </a>
            </li>



            <li class="nav-item">
              <a href="#Radio2" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                <span class="d-inline-block d-sm-none"><i class="mdi mdi-home-variant"></i></span>
                <span class="d-none d-sm-inline-block">مشتری - تعداد</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="#Radio4" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                <span class="d-inline-block d-sm-none"><i class="mdi mdi-home-variant"></i></span>
                <span class="d-none d-sm-inline-block">مشتری - قیمت</span>
              </a>
            </li> -->



          </ul>




          <div class="tab-content">

            <div class="tab-pane active" id="map">
              <h3 class="card-title align-items-start flex-column">
                <span class="card-label ">نقشه بازاریاب :</span>
              </h3>

              <app-broker-map [BrokerCodeData]="id"> </app-broker-map>

            </div>


            <div class="tab-pane " id="Radio1">

              <div class="card-body py-3">
                <div class="table-responsive">

                  <table class="table table-bordered align-middle gs-0 gy-4">
                    <thead>
                      <tr class="fw-bolder ">
                        <th class="min-w-125px"></th>
                        <th class="min-w-125px">نام نشتری</th>
                        <th class="min-w-125px">تعداد عنوان </th>
                        <th class="min-w-125px">تعداد سفارش </th>
                        <th class="min-w-125px">جمع کل </th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let item of Broker_Prefactors; let i = index">
                      <tr>
                        <td>{{ i+1 }}</td>
                        <td>{{ item.CustName }}</td>
                        <td>{{ item.RowsCount }}</td>
                        <td>{{ item.SumAmount }}</td>
                        <td>{{ item.SumPrice }}</td>
                      </tr>
                    </tbody>

                  </table>
                </div>

              </div>




            </div>


            <div class="tab-pane" id="Radio2">
              <h3 class="card-title align-items-start flex-column">
                <span class="card-label ">لیست مشتری - تعداد :</span>
              </h3>

            </div>

            <div class="tab-pane " id="Radio3">

              <h3 class="card-title align-items-start flex-column">
                <span class="card-label ">لیست فاکتور های ارسالی:</span>
              </h3>
            </div>

            <div class="tab-pane " id="Radio4">
              <h3 class="card-title align-items-start flex-column">
                <span class="card-label ">لیست مشتری - قیمت :</span>
              </h3>

            </div>


          </div>
        </div>




      </div>
    </div>


  </div>